# Copilot Instructions Builder CLI

[![npm version](https://img.shields.io/npm/v/copilot-instructions-builder.svg)](https://www.npmjs.com/package/copilot-instructions-builder)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js Version](https://img.shields.io/node/v/copilot-instructions-builder.svg)](https://nodejs.org)
[![Documentation](https://img.shields.io/badge/docs-available-brightgreen.svg)](./docs)

A modular, extensible CLI for building GitHub Copilot instruction files from reusable components. This tool enables developers to create, manage, and share AI assistant instructions using a four-tier, versionable module system.

‚ÄºÔ∏è **Note:** The instruction files generated by this tool are designed to be interpreted by an AI system like GitHub Copilot, not for direct human execution. They are a form of prompt engineering to configure the AI's behavior.

---

## üöÄ Overview

The Copilot Instructions Builder CLI transforms monolithic prompt files into a **modular, version-controlled, and shareable ecosystem**. It acts as a **Persona Builder**, letting you compose specialized AI personas by combining focused instruction modules across four knowledge tiers:

1. **Foundation**: Universal reasoning principles
2. **Principle**: Software engineering best practices
3. **Technology**: Tool- and language-specific knowledge
4. **Execution**: Step-by-step playbooks for concrete tasks

---

## ‚ú® Key Features

- **Modular instruction system**: Compose instructions from reusable modules
- **Four-tier architecture**: Logical layering from abstract principles to actionable steps
- **Versionable and shareable**: Track modules/personas in version control (‚ö†Ô∏è **Not yet implemented**)
- **Customizable personas**: Tailor AI assistants for any workflow or technology
- **CLI-driven and config-driven**: Flexible usage for all workflows
- **Searchable module index**: Quickly find relevant modules by keyword or tier

---

## üèóÔ∏è Architecture

The CLI uses a layered architecture for clarity and scalability:

- **Foundation**: Universal truths (e.g., logic, reasoning)
- **Principle**: Engineering best practices (e.g., TDD, SOLID)
- **Technology**: Framework/language specifics (e.g., React, Python)
- **Execution**: Concrete playbooks (e.g., create API endpoint)

Modules are compiled in this order, ensuring logical, layered output.

For detailed architectural insights, see [`docs/overview.md`](docs/overview.md) and [`docs/architecture.md`](docs/architecture.md).

---

## üß© Module System

- **Module**: Atomic unit of instruction (Markdown file with YAML frontmatter)
- **Tier**: Module scope and compilation priority (`foundation`, `principle`, `technology`, `execution`)
- **Subject**: Module topic, organized by directory path
- **Persona File**: JSON file defining a persona build (output file + required modules)
- **Module Index**: Pre-compiled JSON cache for fast lookup/search

See [`docs/module-system.md`](docs/module-system.md) for data structures and examples.

---

## üõ†Ô∏è Usage

### Workflows

- **Project-local**: Modules live in your project (default, recommended)
- **Centralized/global**: Share a master modules directory across projects

### CLI Commands

```bash
# Index modules (run after adding/removing modules)
copilot-instructions index

# List modules (with optional tier filters)
copilot-instructions list [-f] [-p] [-t] [-e]

# Search modules by keyword (with optional tier filters)
copilot-instructions search "api development" [-f] [-p] [-t] [-e]

# Build instructions from modules (specify modules by tier or use globs)
copilot-instructions build --foundation programming-fundamentals --principle frontend/react --execution ui-components

# Build from persona file (uses all config in the persona JSON)
copilot-instructions build ./personas/my-persona.json

# Build with advanced options
copilot-instructions build -o result.md -m ./custom-modules --header "# Title" --footer "---" --include-attribution --optional-modules extra1 extra2
```

#### Command Options

- `-m, --modules-path <path>`: Path to modules directory (overrides default).
- `-o, --output <file>`: Output file path.
- `--header <text>` / `--footer <text>`: Custom header/footer in output.
- `--include-attribution`: Include module source attribution in output.
- `-f, --foundation <modules...>`: Specify modules by tier.
- `-p, --principle <modules...>`: Specify modules by tier.
- `-t, --technology <modules...>`: Specify modules by tier.
- `-e, --execution <modules...>`: Specify modules by tier.
- `--modules <modules...>`: Specify modules directly.
- `--optional-modules <modules...>`: Include modules if available, skip if missing.

See [`docs/usage.md`](docs/usage.md) for full CLI details, examples, and best practices.

---

## üìÅ Directory Structure

```
copilot-instructions-builder/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ cli.ts              # CLI entry point
‚îÇ   ‚îú‚îÄ‚îÄ core/               # Core engine, parser, resolver
‚îÇ   ‚îú‚îÄ‚îÄ commands/           # CLI commands (build, index, list, search)
‚îÇ   ‚îú‚îÄ‚îÄ types/              # TypeScript types
‚îÇ   ‚îî‚îÄ‚îÄ utils/              # Utilities (file-system, helpers)
‚îú‚îÄ‚îÄ instructions-modules/   # Instruction modules (by tier)
‚îú‚îÄ‚îÄ personas/               # Persona definition files
‚îú‚îÄ‚îÄ docs/                   # Documentation
‚îú‚îÄ‚îÄ instructions-modules.index.json # Module index (generated)
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ README.md
```

---

## üß™ Testing & Quality

- **Unit tests**: Core algorithms, module system, CLI commands
- **Integration tests**: End-to-end workflows, real-world scenarios
- **Performance tests**: Large module sets, build times
- **Error handling tests**: Graceful failure, recovery

See [`docs/tasks.md`](docs/tasks.md) for implementation roadmap and testing priorities.

---

## üìñ Documentation

- **Getting Started**
  - [Quick Start Guide](./docs/quickstart.md) - Get up and running in 5 minutes
  - [Overview](./docs/overview.md) - Project vision and concepts
- **User Guides**
  - [Usage Guide](./docs/usage.md) - Detailed command reference
  - [Module System](./docs/module-system.md) - Understanding modules
  - [Module Development](./docs/module-development.md) - Creating effective modules
- **Reference**
  - [Architecture](./docs/architecture.md) - System design
  - [API Documentation](./docs/api.md) - Programmatic usage
  - [4-Tier Model](./docs/4-tier-model.md) - Detailed tier system
- **Help**
  - [FAQ](./docs/faq.md) - Common questions answered
  - [Troubleshooting](./docs/troubleshooting.md) - Problem solutions
  - [Examples](./docs/examples.md) - Sample modules and personas

---

## üìö References

- [Overview](./overview.md)
- [Architecture](./architecture.md)
- [Module System](./module-system.md)
- [Usage Guide](./usage.md)
- [4-Tier Model](./4-tier-model.md)
- [Task Implementation Roadmap](./tasks.md)

---

## üìù Contributing

Contributions are welcome! Please see the documentation in [`docs/`](docs/) for architecture, module guidelines, and implementation tasks.

---

## License

This project is licensed under the MIT License.

---

_Last updated: July 2025_
